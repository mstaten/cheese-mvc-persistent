<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity" >
    <head th:replace="fragments :: head"></head>

    <body class="container modal-body">

        <h1 th:text="${title}">Default Title</h1>

        <nav th:replace="fragments :: navigation"></nav>

        <h5>Username:
            <span sec:authentication="name">username</span>
        </h5>
        <h5>Email:
            <span th:text="${#authentication.getPrincipal().getEmail()}">email</span>
        </h5>

        <div class="change-password">
            <h5>Password</h5>

            <form method="post" th:object="${passwordDto}">
                <p><span th:if="${successMessage}" th:text="${successMessage}"></span></p>

                <label>
                    <h6>Current Password</h6>
                    <input th:field="*{oldPassword}" type="password" />
                </label>
                <p><span th:if="${failureMessage}" th:text="${failureMessage}"></span>
                    <span th:errors="*{oldPassword}"></span>
                </p>

                <label>
                    <h6>New Password</h6>
                    <input th:field="*{newPassword}" text="" type="password"/>
                </label>
                <p><span th:errors="*{newPassword}"></span></p>

                <div><label><input type="submit" value="Update Password" class="btn btn-warning"/></label></div>
            </form>

        </div>

    </body>
</html>